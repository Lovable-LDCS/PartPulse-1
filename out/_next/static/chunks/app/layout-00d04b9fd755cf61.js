(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5565:function(e,t,r){Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,9295)),Promise.resolve().then(r.bind(r,1293)),Promise.resolve().then(r.bind(r,4362)),Promise.resolve().then(r.bind(r,5825)),Promise.resolve().then(r.bind(r,4248))},9295:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var n=r(7437),s=r(5825),i=r(4248),a=r(9897),o=r(3388),l=r(3145);function c(){let{mode:e,setMode:t}=(0,s.u)(),{role:r,setRole:c}=(0,i.q)();return(0,n.jsxs)("header",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-32 h-12 relative",children:(0,n.jsx)(l.default,{src:"/assets/logo.png",alt:"Trane Thermo King",fill:!0,className:"object-contain",unoptimized:!0})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"PartPulse"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-600 px-2",children:"Preview:"}),(0,n.jsxs)("button",{onClick:()=>t("desktop"),className:"flex items-center gap-1 px-3 py-1 rounded ".concat("desktop"===e?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-800"),"aria-label":"Desktop preview mode",children:[(0,n.jsx)(a.Z,{size:16}),(0,n.jsx)("span",{className:"text-sm",children:"Desktop"})]}),(0,n.jsxs)("button",{onClick:()=>t("mobile"),className:"flex items-center gap-1 px-3 py-1 rounded ".concat("mobile"===e?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-800"),"aria-label":"Mobile preview mode",children:[(0,n.jsx)(o.Z,{size:16}),(0,n.jsx)("span",{className:"text-sm",children:"Mobile"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-600 px-2",children:"Role:"}),(0,n.jsx)("button",{onClick:()=>c("Admin"),className:"px-3 py-1 rounded text-sm ".concat("Admin"===r?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Admin"}),(0,n.jsx)("button",{onClick:()=>c("Technician"),className:"px-3 py-1 rounded text-sm ".concat("Technician"===r?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Technician"})]})]})]})}},1293:function(e,t,r){"use strict";r.d(t,{default:function(){return p}});var n=r(7437),s=r(7648),i=r(9376),a=r(4248),o=r(4794),l=r(8736),c=r(7806),d=r(6215),u=r(8728),m=r(8906),h=r(4401),x=r(7692);let f=[{label:"Internal Transfer",href:"/internal-transfer",icon:o.Z,roles:["Admin","Technician"]},{label:"Warranty Claims",href:"/warranty-claims",icon:l.Z,roles:["Admin","Technician"]},{label:"Invite New Members",href:"/invite-members",icon:c.Z,roles:["Admin"]},{label:"Reports",href:"/reports",icon:d.Z,roles:["Admin"]},{label:"Settings",href:"/settings",icon:u.Z,roles:["Admin"]},{label:"Security Dashboard",href:"/security-dashboard",icon:m.Z,roles:["Admin"]},{label:"Health Checker",href:"/health-checker",icon:h.Z,roles:["Admin"]}];function p(){let e=(0,i.usePathname)(),{role:t,isAdmin:r,resetSession:o}=(0,a.q)(),l=f.filter(e=>e.roles.includes(t)||r&&e.roles.includes("Admin"));return(0,n.jsxs)("aside",{className:"w-64 bg-primary text-white min-h-screen flex flex-col",children:[(0,n.jsx)("nav",{className:"flex-1 py-6",children:l.map(t=>{let r=t.icon,i=e===t.href;return(0,n.jsxs)(s.default,{href:t.href,className:"flex items-center gap-3 px-6 py-3 transition-colors ".concat(i?"bg-white/20 border-r-4 border-white":"hover:bg-white/10"),children:[(0,n.jsx)(r,{size:20}),(0,n.jsx)("span",{className:"text-sm font-medium",children:t.label})]},t.href)})}),(0,n.jsx)("div",{className:"p-6 border-t border-white/20",children:(0,n.jsxs)("button",{onClick:o,className:"flex items-center gap-3 w-full px-4 py-2 rounded hover:bg-white/10 transition-colors",children:[(0,n.jsx)(x.Z,{size:20}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Reset Session"})]})})]})}},4362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return l}});var n=r(7437),s=r(2265),i=r(6481);let a=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("partpulse_user");if(e)try{o(JSON.parse(e))}catch(e){console.error("Error parsing stored user:",e)}c(!1)},[]),(0,s.useEffect)(()=>{r?localStorage.setItem("partpulse_user",JSON.stringify(r)):localStorage.removeItem("partpulse_user")},[r]);let d=async(e,t)=>{let r=i.W.includes(e)?"Admin":"Technician";o({id:Math.random().toString(36).substring(7),email:e,username:e.split("@")[0],role:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})},u=async(e,t,r)=>{let n=i.W.includes(e)?"Admin":"Technician";o({id:Math.random().toString(36).substring(7),email:e,username:r,role:n,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})},m=async()=>{o(null)};return(0,n.jsx)(a.Provider,{value:{user:r,loading:l,signIn:d,signUp:u,signOut:m,updateUserRole:e=>{r&&o({...r,role:e})}},children:t})}function l(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5825:function(e,t,r){"use strict";r.d(t,{PreviewProvider:function(){return a},u:function(){return o}});var n=r(7437),s=r(2265);let i=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,s.useState)("desktop");return(0,n.jsx)(i.Provider,{value:{mode:r,setMode:a},children:t})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("usePreview must be used within a PreviewProvider");return e}},4248:function(e,t,r){"use strict";r.d(t,{RoleProvider:function(){return l},q:function(){return c}});var n=r(7437),s=r(2265),i=r(6481),a=r(4362);let o=(0,s.createContext)(void 0);function l(e){let{children:t}=e,{user:r}=(0,a.a)(),[l,c]=(0,s.useState)("Technician");(0,s.useEffect)(()=>{let e=localStorage.getItem("partpulse_role");e&&("Admin"===e||"Technician"===e)&&c(e)},[]),(0,s.useEffect)(()=>{localStorage.setItem("partpulse_role",l)},[l]);let d="Admin"===l||(null==r?void 0:r.role)==="Admin"||null!=r&&!!r.email&&i.W.includes(r.email);return(0,n.jsx)(o.Provider,{value:{role:l,setRole:e=>{c(e)},isAdmin:d,resetSession:()=>{localStorage.removeItem("partpulse_role"),localStorage.removeItem("partpulse_user"),c("Technician"),window.location.reload()}},children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useRole must be used within a RoleProvider");return e}},6481:function(e,t,r){"use strict";r.d(t,{W:function(){return n}});let n=["joline.kruger@tranetechnologies.com","johan.ras2@outlook.com"]},2778:function(){}},function(e){e.O(0,[461,918,971,117,744],function(){return e(e.s=5565)}),_N_E=e.O()}]);